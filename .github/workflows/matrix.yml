name: Simple Matrix

on:
  workflow_dispatch:
    inputs:
      env_list:
        description: "Lista de entornos en formato JSON (ej: [\"dev1\",\"dev2\"]). Vac√≠o para usar todos por defecto."
        required: false
        default: '["dev1","dev2","dev3","dev4","dev5","dev6","dev7","dev8","dev9","dev11","dev12","dev13","dev14","dev15","dev16","dev17","dev18","dev19"]'

jobs:
  test-matrix:
    runs-on: ubuntu-latest
    strategy:
      max-parallel: 4
      matrix:
        env: ${{ fromJSON(github.event.inputs.env_list) }}
    steps:
      - name: Show matrix values
        run: |
          sleep 10
          echo "Environment: ${{ matrix.env }}"
